{% extends "base/_base.html" %}
{% load static %}

{% block content %}
<div class="flex justify-center items-center h-screen overflow-y-scroll">
  <div class="flex flex-col items-center bg-white bg-opacity-40 backdrop-blur-md rounded-xl drop-shadow-lg p-4">
    <div class="overflow-x-auto relative shadow-md rounded-lg">
      <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
          <tr>
            <th scope="col" class="py-3 px-6">
              Name
            </th>
            <th scope="col" class="py-3 px-6">
              Points
            </th>
            <th scope="col" class="py-3 px-6">
              Action
            </th>
          </tr>
        </thead>
        <tbody>
          {% for user in total_points_leaderboard %}
          <tr class="bg-white border-b dark:bg-gray-900 dark:border-gray-700">
            <th scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              {{ user.username }}
            </th>
            <td class="py-4 px-6">
              {{ user.total_prediction_points }}
            </td>
            <td class="py-4 px-6">
              <a href="#" class="font-medium text-blue-600 dark:text-blue-500 hover:underline">Profile</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

    </div>
    <!-- Pagination Section -->
    <div class="flex flex-row items-center justify-center mt-3 font-['Ubuntu'] font-bold text-sm text-white">
      {% if page_obj.has_previous %}
      <a class="bg-red-500 p-1 rounded-md" href="?page={{ page_obj.previous_page_number }}"><=</a>
      {% endif %}
      <span class="bg-gray-500 p-1 rounded-md">
        {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
      </span>
      {% if page_obj.has_next %}
      <a class="bg-green-500 p-1 rounded-md" href="?page={{ page_obj.next_page_number }}">=></a>
      {% endif %}
    </div>
    <!-- End -->
  </div>
</div>
{% endblock %}